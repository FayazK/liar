# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Development Commands

### Frontend Development
- `npm run dev` - Start Vite development server
- `npm run build` - Build frontend assets
- `npm run build:ssr` - Build with server-side rendering support
- `npm run lint` - Run ESLint and auto-fix issues
- `npm run format` - Format code with Prettier
- `npm run format:check` - Check code formatting
- `npm run types` - Type check TypeScript without emitting files

### Laravel Development
- `composer dev` - Start full development environment (Laravel server, queue, logs, and Vite)
- `composer dev:ssr` - Start development with SSR support
- `composer test` - Run PHP tests (clears config first)
- `php artisan serve` - Start Laravel development server
- `php artisan test` - Run PHPUnit/Pest tests
- `php artisan pail` - View application logs in real-time

### Testing
- PHP tests use **Pest** framework (not PHPUnit syntax)
- Tests are in `tests/Feature/` and `tests/Unit/`
- Database testing uses SQLite in-memory database
- Run individual test: `php artisan test --filter=TestName`

## Architecture Overview

### Frontend Stack
- **React 19** with TypeScript
- **Inertia.js** for seamless SPA experience with Laravel backend
- **Ant Design** as primary UI component library with React 19 compatibility patch
- **Tailwind CSS v4** for styling with Vite plugin integration
- **Laravel Wayfinder** for type-safe route generation
- **Server-Side Rendering** enabled via Inertia SSR

### Backend Stack
- **Laravel 12** with PHP 8.2+
- **Inertia Laravel** adapter for React integration
- **SQLite** database (development)
- **Pest** for testing

### Key Architectural Patterns

#### Inertia.js Integration
- Pages are React components in `resources/js/pages/`
- Controllers return Inertia responses instead of Blade views
- Client-side navigation with server-side routing
- Shared data via `HandleInertiaRequests` middleware

#### Frontend Structure
- **Pages**: Route-specific components (`resources/js/pages/`)
- **Components**: Reusable UI components with `ui/` subfolder for design system
- **Layouts**: Page layouts (`auth/`, `app/`, `settings/`)
- **Actions**: Type-safe API calls generated by Wayfinder (`resources/js/actions/`)
- **Hooks**: Custom React hooks for state management
- **Routes**: Client-side route definitions

#### Component Organization
- Design system components in `components/ui/`
- Application-specific components in `components/`
- Layout components organized by domain (`auth/`, `app/`, `settings/`)

#### State Management
- Inertia shared data for global state
- Custom hooks for component-specific state
- Appearance/theme management via `use-appearance` hook

## Development Workflow

### Starting Development
Use `composer dev` to start the full stack:
- Laravel server on default port
- Queue worker
- Real-time logs via Pail  
- Vite dev server with HMR

### Adding New Pages
1. Create React component in `resources/js/pages/`
2. Add Laravel route that returns Inertia response
3. Wayfinder will auto-generate type-safe route helpers

### SSR Development
- SSR is enabled by default in `config/inertia.php`
- Use `composer dev:ssr` for SSR development
- Build SSR bundle with `npm run build:ssr`

### Code Quality
- ESLint configuration with React and TypeScript rules
- Prettier with import organization and Tailwind class sorting
- Laravel Pint for PHP code styling
- All linting tools have auto-fix capabilities

## File Locations
- **Laravel Controllers**: `app/Http/Controllers/`
- **React Pages**: `resources/js/pages/`
- **React Components**: `resources/js/components/`
- **Generated Routes**: `resources/js/actions/` (auto-generated by Wayfinder)
- **Layouts**: `resources/js/layouts/`
- **Tests**: `tests/Feature/` and `tests/Unit/`
- use Ant Design theme tokens and dynamic styles/classes which shall be compatible with dark/light mode
- Use Wayfinder for route and linking in frontend
- ALWAYS follow DRY and KISS principles.
- ALWAYS follow Service and Repository Pattern.